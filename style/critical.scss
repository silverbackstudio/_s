@import "normalize";
@import "variables-site/variables-site";
@import "mixins/mixins-master";
@import "modules/accessibility";
@import "modules/responsive-utilities";
@import "typography/typography";
@import "header/header";
@import "footer/footer";
//@import "layout/in-grid";

// Elements

img {
	max-width: 100%;
	height: auto;
}

#page {
	background: $color__background-page;
}

.site-content,
.wrap {
	max-width: $size__content-width;
	padding-left: $padding__content-mobile;
	padding-right: $padding__content-mobile;
	margin-left: auto;
	margin-right: auto;

	@media screen and (min-width: breakpoint('tablet-landscape')) {
		padding-left: $padding__content-tablet;
		padding-right: $padding__content-tablet;
	}

	@media screen and (min-width: $size__content-width + $padding__content-tablet * 2) {
		padding-left: 0;
		padding-right: 0;
	}
}

// Wide/full alignment

.wp-block-svbk-hero,
.wp-block-group.alignwide,
.wp-block-group.alignfull,
.wp-block-media-text.alignwide,
.wp-block-media-text.alignfull,
.wp-block-image.alignwide,
.wp-block-image.alignfull,
.wp-block-cover.alignwide,
.wp-block-cover.alignfull,
.wp-block-svbk-warranty {
	margin-left: calc(50% - 50vw);
	margin-right: calc(50% - 50vw);
}

.wp-block-media-text,
.wp-block-group,
.wp-block-cover {

	&.alignwide,
	&.alignfull {
		width: auto;
		max-width: none;
		padding-left: calc(50vw - 50%);
		padding-right: calc(50vw - 50%);
	}
}

.wp-block-svbk-hero,
.wp-block-group.alignwide,
.wp-block-media-text.alignwide,
.wp-block-image.alignwide,
.wp-block-cover.alignwide,
.wp-block-image.alignfull,
.wp-block-cover.alignfull {
	margin-top: 0;
	margin-bottom: 0;

    @media screen and (min-width: $size__page-max-width) {
		margin: 30px #{-$padding__content-desktop};
	}
}

.wp-block-svbk-hero,
.wp-block-group.alignwide,
.wp-block-media-text.alignwide,
.wp-block-cover.alignwide {

	@media screen and (min-width: $size__page-max-width) {
		padding-left: $padding__content-desktop;
		padding-right: $padding__content-desktop;
	}
}

.entry-content:not(.post__content) >,
.entry-content > .wp-block-group .wp-block-group__inner-container > {

	p, ul, ol,
	h1, h2, h3, h4, h5, h6,
	.wp-block-pullquote,
	.wp-block-svbk-icon-paragraph,
	.wp-block-button,
	.wp-block-separator {
		max-width: $size__text-width;
	}

	p, ul, ol,
	h1, h2, h3, h4, h5, h6,
	.wp-block-pullquote,
	.wp-block-svbk-icon-paragraph,
	.wp-block-button {
		margin-left: auto;
		margin-right: auto;
	}

	h1, h2 {
		margin-top: 0;
	}

	@media screen and (min-width: $size__text-width) {

		.wp-block-separator {
				margin-left: calc((100% - 740px)/2);
		}

		.has-text-align-center + .wp-block-separator {
			margin-left: auto;
		}
	}
}

img {
	max-width: 100%;
	height: auto;
}

.site-header {
	z-index: 999;

	.sub-menu {
		display: none;
	}
}

#main-navigation {
	position: fixed;
	right: -100%;

	ul {
		list-style: none;
		padding: 0;
		margin: 0;

		li a {
			color: $color__text-main;
			text-decoration: none;
			text-transform: uppercase;
		}
	}

	@media screen and (min-width: breakpoint('desktop-nav')) {
		position: relative;
	}
}

.wp-block-svbk-testimonials,
.wp-block-svbk-grid {

	@media screen and (min-width: $size__page-width + $padding__content-desktop * 2) {
		max-width: $size__page-width;
		margin-left: auto;
		margin-right: auto;
	}
}

// Blocks

.wp-block-svbk-bullet__icon,
.wp-block-svbk-card__icon {
	width: 100px;
	height: 100px;
}

.wp-block-svbk-grid {
	display: flex;
	justify-content: space-between;

    @media screen and (max-width: breakpoint('tablet-landscape')) {
    
		@for $i from 1 through 3 {

			&.has-#{$i}-columns-mobile {

				> * {
					flex-basis: (100% - (2% * ($i - 1)))/$i;
					max-width: none;
				}
			}
		}
	}

    @media screen and (min-width: breakpoint('tablet-landscape')) {

        @for $i from 2 through 6 {
    
				&.has-#{$i}-columns {

				> * {
					flex-basis: (100% - (2% * ($i - 1)))/$i;
					max-width: none;
				}
            }
        }
    }
}

// Flickity Gallery

.wp-block-gallery[class*="columns"] {

	.flickity-viewport {
		overflow: hidden;
		position: relative;
	}

	.flickity-enabled {

		.flickity-slider {
			position: absolute;
			width: 100%;
			height: 100%;
		}

		.blocks-gallery-item {
			display: block;
			height: 180px;
			margin-bottom: 0;

			figure, img {
				display: block;
			}

			img {
				max-width: none;
			}
	
			@media screen and (min-width: breakpoint('phone')) {
				height:250px;
			}
		}
	}

    @for $i from 2 through 5 {

        &.columns-#{$i} {
      
			.flickity-enabled .blocks-gallery-item {
				$grid-gutter: 1;
                width: (100%/$i);
				margin-right: 1% * $grid-gutter;
				height: 160px;

				@media screen and (min-width: breakpoint('tablet-portrait')) {
					height: 240px;
				}

				@media screen and (min-width: breakpoint('tablet-landscape')) {
					height: 300px;
				}

				@media screen and (min-width: breakpoint('desktop')) {
					height: 340px;
				}
			}
		}
	}

	&.columns-1 .flickity-enabled .blocks-gallery-item {

		@media screen and (min-width: breakpoint('phone')) {
			height: 300px;
		}

		@media screen and (min-width: breakpoint('tablet-portrait')) {
			height: 430px;

			.wp-block-column & {
				height: 185px;
			}
		}

		@media screen and (min-width: breakpoint('tablet-landscape')) {
			height: 530px;

			.wp-block-column & {
				height: 279px;
			}
		}

		@media screen and (min-width: breakpoint('desktop')) {
			height: 630px;

			.wp-block-column & {
				height: 362px;
			}
		}
	}
}

.flickity-button,
.flickity-page-dots {
	display: none;

	.domready & {
		display: block;
	}
}